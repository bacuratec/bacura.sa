# Story 1.1: Instant Language Toggle

## Status
InProgress

## Story
**As a** user,
**I want** to change the UI language instantly,
**so that** I can switch between Arabic and English without page reload.

## Acceptance Criteria
1. Changing language updates `i18n` active language immediately
2. Page direction (`dir`) switches between `rtl` and `ltr` based on language
3. No full page reload occurs on language change
4. UI reflects selected language labels and direction-aware styles

## Tasks / Subtasks
- [x] Wire LanguageDropdown to change i18n language without reload
  - [x] Call `changeLanguage` and update context `lang`
- [x] Sync HTML `dir` and `lang` attributes with current language
  - [x] Implement a lightweight client component to manage `document.documentElement`
- [x] Validate Tailwind `rtl:`/`ltr:` class behavior switches correctly
- [ ] Add entries to Dev Debug Log if any runtime issues are detected

## Dev Notes
- Context file: `src/context/LanguageContext.jsx`
- Dropdown component: `src/components/Layouts/LanguageDropdown.jsx`
- Direction manager: `src/components/shared/DirManager.jsx`
- App root layout currently sets static `dir="rtl"`; dynamic override is handled by `DirManager`

### Testing
- Manually toggle language and verify text and direction updates
- Confirm no network reload and that state persists via localStorage
- Check key areas affected by direction: menus, dropdowns, and layout alignment

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-29 | 0.1 | Initial story draft | Dev Team |

## Dev Agent Record
### Agent Model Used
GPT-5-medium (Trae)

### Debug Log References
`.ai/debug-log.md`

### Completion Notes List
- LanguageDropdown الآن يحدّث اللغة دون إعادة تحميل
- DirManager يزامن `dir/lang` على عنصر `html` عند التبديل
- تم فتح معاينة على `http://localhost:3001/` للتأكد من السلوك

### File List
- `src/components/shared/DirManager.jsx` (new)
- `app/providers.jsx` (updated)
- `src/components/Layouts/LanguageDropdown.jsx` (updated)

## QA Results
- Manual verification: Passed (no page reload, direction switches correctly)
